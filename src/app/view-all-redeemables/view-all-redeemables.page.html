<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>View All Redemptions</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="goScan()">Scan</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-slides pager="true" style="height:100%;">
    <ion-slide style="align-items: flex-start">
      <div style="margin-top:20px">
        <ion-item color="primary" >
          <ion-text>Available Redemptions</ion-text>
        </ion-item>
        
        <ion-text *ngIf="!activeRedemptions || activeRedemptions.length == 0">You don't have any available redemptions</ion-text>
        <ion-card *ngFor="let r of activeRedemptions">
          <ion-card-header>
            <ion-card-subtitle>
              <div style="float:right">
                R{{r.redemptionId}}
              </div>
              <div>
                {{r.deal.business.name}}
              </div>
            </ion-card-subtitle>
            <ion-card-title>{{r.deal.dealName}}</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            {{r.deal.description}}
            <br/><br/>
            ${{r.deal.unitPrice}}
          </ion-card-content>
          <div>
            <ion-text style="float:left; margin:20px">{{r.deal.serialNum}}</ion-text>
            <!-- <ion-button style="float:right; margin:20px" color="primary">Redeem</ion-button> -->
          </div>
        </ion-card> 
    </div>
    </ion-slide>
    <ion-slide style="align-items: flex-start">
      <div style="margin-top:20px">
        <ion-item color="primary">
          <ion-text>Redeemed</ion-text>
        </ion-item>
        <ion-text *ngIf="!redeemed || redeemed.length == 0">You have not redeemed any deals yet</ion-text>
        <ion-card *ngFor="let r of redeemed">
          <ion-card-header>
            <ion-card-subtitle>
              <div style="float:right">
                R{{r.redemptionId}}
              </div>
              <div>
                {{r.deal.business.name}}
              </div>
            </ion-card-subtitle>
            <ion-card-title>{{r.deal.dealName}}</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            {{r.deal.description}}
            <br/><br/>
            ${{r.deal.unitPrice}}
          </ion-card-content>
          <div>
            <ion-text style="float:left; margin:20px">{{r.deal.serialNum}}</ion-text>
            <ion-button style="float:right; margin:20px" color="primary" disabled="true">Redeemed</ion-button>
          </div>
        </ion-card> 
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>
