{"version":3,"file":"ionic5-star-rating.js","sources":["ionic5-star-rating/lib/ionic5-star-rating.component.ts","ionic5-star-rating/lib/ionic5-star-rating.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst HTML_TEMPLATE = `\n<div class=\"ionic5-star-rating\">\n  <button [ngStyle]=\"{'width' : fontSize, 'height' : fontSize}\" *ngFor=\"let index of iconsArray\" id=\"{{index}}\" type=\"button\" ion-button icon-only (click)=\"changeRating($event)\">\n    <ion-icon [ngStyle]=\"{'color':index < this.Math.round(this.parseFloat(rating)) ? activeColor : defaultColor, 'font-size' : fontSize }\" name=\"{{(halfStar ==='true' && (rating - index > 0) && (rating - index <= 0.5)) ? halfIcon : (index < this.Math.round(this.parseFloat(rating))) ? activeIcon : defaultIcon}}\"></ion-icon>\n  </button>\n</div>\n`\n\nconst CSS_STYLE = `\n    .ionic5-star-rating button {\n        background: none;\n        box-shadow: none;\n        -webkit-box-shadow: none;\n        padding : 0px;\n    }\n`\n\n@Component({\n  selector: 'ionic5-star-rating',\n  template: HTML_TEMPLATE,\n  styles: [CSS_STYLE],\n  providers: [\n    {\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: StarRating,\n        multi: true\n    }\n]\n})\nexport class StarRating implements ControlValueAccessor, OnInit{\n\n  ngOnInit(): void {\n    this.rating = this.rating || 3; //default after input`s initialization\n    for(var i=0; i < this.maxRating; i++) {\n      this.iconsArray.push(i);\n    }\n  }\n\n  private _rating : number;\n  private onChange : any;\n  private onTouched : any;\n  public disabled : boolean;\n\n  writeValue(obj: number): void {\n    this.rating = obj;\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.readonly = isDisabled ? \"true\" : \"false\";\n  }\n\n  @Input() public set rating(val : number){\n    this._rating = val;\n    // for form\n    if(this.onChange){\n      this.onChange(val);\n    }\n  }\n\n  public get rating(): number{\n    return this._rating;\n  }\n  \n  @Output()\n  ratingChanged : EventEmitter<number> = new EventEmitter<number>();\n\n  @Input()\n  readonly: string = \"false\";\n  @Input()\n  activeColor : string = '#488aff';\n  @Input()\n  defaultColor : string = '#aaaaaa';\n  @Input()\n  activeIcon : string = 'star';\n  @Input()\n  defaultIcon : string = 'star-outline';\n  @Input()\n  halfIcon : string = 'star-half';\n  @Input()\n  halfStar : string = \"false\";\n  @Input()\n  maxRating : number = 5;\n  @Input()\n  fontSize : string = '28px';\n  Math: any;\n  parseFloat : any;\n  iconsArray : number[] = [];\n\n  constructor() {\n    this.Math = Math;\n    this.parseFloat = parseFloat;\n  }\n\n  changeRating(event){\n\n    if(this.readonly && this.readonly === \"true\") return;\n    // event is different for firefox and chrome\n    let id = event.target.id ? parseInt(event.target.id) : parseInt(event.target.parentElement.id);\n    if(this.halfStar && this.halfStar === \"true\") {\n      this.rating = ((this.rating - id > 0) && (this.rating - id <= 0.5)) ? id + 1 : id + .5;\n    } else {\n      this.rating = id + 1;\n    }\n    \n    // unique event\n    this.ratingChanged.emit(this.rating)\n  }\n}","import { NgModule } from '@angular/core';\nimport { StarRating } from './ionic5-star-rating.component';\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [StarRating],\n  imports: [\n    IonicModule,\n    CommonModule\n  ],\n  exports: [StarRating]\n})\nexport class StarRatingModule { }\n"]}